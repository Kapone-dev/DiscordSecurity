"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const discord_js_1 = require("discord.js");
const lib_1 = require("../../lib");
class GuildDeleteEvent extends lib_1.BaseEvent {
    constructor() {
        super('guildDelete');
    }
    async run(bot, guild) {
        const owner = bot.client.users.cache.get(guild.ownerId) || await bot.client.users.fetch(`${BigInt(guild.ownerId)}`);
        const embed = new discord_js_1.MessageEmbed()
            .setAuthor(guild.name, guild.iconURL({ dynamic: true }))
            .setDescription("Me eliminaron de un servidor, aca puedes obtener mas información al respecto")
            .addFields({
            name: "Miembros",
            value: `${guild.memberCount}`,
            inline: true
        }, {
            name: "Dueño",
            value: owner.id + " " + owner.tag,
            inline: true
        })
            .setColor("RED")
            .setThumbnail(guild.iconURL({ dynamic: true }));
        const channel = await bot.client.channels.fetch("734207834866188300").catch(() => null);
        if (channel)
            channel.send(embed);
    }
}
exports.default = GuildDeleteEvent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3VpbGREZWxldGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZXZlbnRzL21pc2MvZ3VpbGREZWxldGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyQ0FBaUQ7QUFFakQsbUNBQXNDO0FBQ3RDLE1BQXFCLGdCQUFpQixTQUFRLGVBQVM7SUFDbkQ7UUFDSSxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUNELEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBUSxFQUFFLEtBQVk7UUFDNUIsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksTUFBTSxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNwSCxNQUFNLEtBQUssR0FBRyxJQUFJLHlCQUFZLEVBQUU7YUFDM0IsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2FBQ3ZELGNBQWMsQ0FBQyw4RUFBOEUsQ0FBQzthQUM5RixTQUFTLENBQUM7WUFDUCxJQUFJLEVBQUUsVUFBVTtZQUNoQixLQUFLLEVBQUUsR0FBRyxLQUFLLENBQUMsV0FBVyxFQUFFO1lBQzdCLE1BQU0sRUFBRSxJQUFJO1NBQ2YsRUFBRTtZQUNDLElBQUksRUFBRSxPQUFPO1lBQ2IsS0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQyxHQUFHO1lBQ2pDLE1BQU0sRUFBRSxJQUFJO1NBQ2YsQ0FBQzthQUNELFFBQVEsQ0FBQyxLQUFLLENBQUM7YUFDZixZQUFZLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEQsTUFBTSxPQUFPLEdBQUcsTUFBTSxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEYsSUFBSSxPQUFPO1lBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNwQyxDQUFDO0NBQ0o7QUF2QkQsbUNBdUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3VpbGQsIE1lc3NhZ2VFbWJlZCB9IGZyb20gXCJkaXNjb3JkLmpzXCI7XHJcbmltcG9ydCBCb3QgZnJvbSBcIi4uLy4uL2JvdFwiO1xyXG5pbXBvcnQgeyBCYXNlRXZlbnQgfSBmcm9tICcuLi8uLi9saWInO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHdWlsZERlbGV0ZUV2ZW50IGV4dGVuZHMgQmFzZUV2ZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdndWlsZERlbGV0ZScpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgcnVuKGJvdDogQm90LCBndWlsZDogR3VpbGQpIHtcclxuICAgICAgICBjb25zdCBvd25lciA9IGJvdC5jbGllbnQudXNlcnMuY2FjaGUuZ2V0KGd1aWxkLm93bmVySWQpIHx8IGF3YWl0IGJvdC5jbGllbnQudXNlcnMuZmV0Y2goYCR7QmlnSW50KGd1aWxkLm93bmVySWQpfWApO1xyXG4gICAgICAgIGNvbnN0IGVtYmVkID0gbmV3IE1lc3NhZ2VFbWJlZCgpXHJcbiAgICAgICAgICAgIC5zZXRBdXRob3IoZ3VpbGQubmFtZSwgZ3VpbGQuaWNvblVSTCh7IGR5bmFtaWM6IHRydWUgfSkpXHJcbiAgICAgICAgICAgIC5zZXREZXNjcmlwdGlvbihcIk1lIGVsaW1pbmFyb24gZGUgdW4gc2Vydmlkb3IsIGFjYSBwdWVkZXMgb2J0ZW5lciBtYXMgaW5mb3JtYWNpw7NuIGFsIHJlc3BlY3RvXCIpXHJcbiAgICAgICAgICAgIC5hZGRGaWVsZHMoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJNaWVtYnJvc1wiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGAke2d1aWxkLm1lbWJlckNvdW50fWAsXHJcbiAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWVcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJEdWXDsW9cIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBvd25lci5pZCArIFwiIFwiICsgb3duZXIudGFnLFxyXG4gICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRDb2xvcihcIlJFRFwiKVxyXG4gICAgICAgICAgICAuc2V0VGh1bWJuYWlsKGd1aWxkLmljb25VUkwoeyBkeW5hbWljOiB0cnVlIH0pKTtcclxuICAgICAgICBjb25zdCBjaGFubmVsID0gYXdhaXQgYm90LmNsaWVudC5jaGFubmVscy5mZXRjaChcIjczNDIwNzgzNDg2NjE4ODMwMFwiKS5jYXRjaCgoKSA9PiBudWxsKTtcclxuICAgICAgICBpZiAoY2hhbm5lbCkgY2hhbm5lbC5zZW5kKGVtYmVkKVxyXG4gICAgfVxyXG59Il19